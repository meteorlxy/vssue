/*!
 * vssue - A vue-powered issue-based comment plugin
 *
 * @version v1.1.0
 * @link https://vssue.js.org
 * @license MIT
 * @copyright 2018-2019 meteorlxy
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("vue"),require("@vssue/api-gitlab-v4")):"function"==typeof define&&define.amd?define(["vue","@vssue/api-gitlab-v4"],t):t((e=e||self).Vue,e.GitlabV4)}(this,function(e,t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
function s(e,t,s,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,s,o):i(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var n="undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys;function i(e,t,s){(s?Reflect.getOwnMetadataKeys(t,s):Reflect.getOwnMetadataKeys(t)).forEach(function(n){var i=s?Reflect.getOwnMetadata(n,t,s):Reflect.getOwnMetadata(n,t);s?Reflect.defineMetadata(n,i,e,s):Reflect.defineMetadata(n,i,e)})}var r={__proto__:[]}instanceof Array;function o(e){return function(t,s,n){var i="function"==typeof t?t:t.constructor;i.__decorators__||(i.__decorators__=[]),"number"!=typeof n&&(n=void 0),i.__decorators__.push(function(t){return e(t,s,n)})}}var a=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function u(t,s){void 0===s&&(s={}),s.name=s.name||t._componentTag||t.name;var o=t.prototype;Object.getOwnPropertyNames(o).forEach(function(e){if("constructor"!==e)if(a.indexOf(e)>-1)s[e]=o[e];else{var t=Object.getOwnPropertyDescriptor(o,e);void 0!==t.value?"function"==typeof t.value?(s.methods||(s.methods={}))[e]=t.value:(s.mixins||(s.mixins=[])).push({data:function(){var s;return(s={})[e]=t.value,s}}):(t.get||t.set)&&((s.computed||(s.computed={}))[e]={get:t.get,set:t.set})}}),(s.mixins||(s.mixins=[])).push({data:function(){return function(e,t){var s=t.prototype._init;t.prototype._init=function(){var t=this,s=Object.getOwnPropertyNames(e);if(e.$options.props)for(var n in e.$options.props)e.hasOwnProperty(n)||s.push(n);s.forEach(function(s){"_"!==s.charAt(0)&&Object.defineProperty(t,s,{get:function(){return e[s]},set:function(t){e[s]=t},configurable:!0})})};var n=new t;t.prototype._init=s;var i={};return Object.keys(n).forEach(function(e){void 0!==n[e]&&(i[e]=n[e])}),i}(this,t)}});var u=t.__decorators__;u&&(u.forEach(function(e){return e(s)}),delete t.__decorators__);var l,m,h=Object.getPrototypeOf(t.prototype),d=h instanceof e?h.constructor:e,p=d.extend(s);return function(e,t,s){Object.getOwnPropertyNames(t).forEach(function(n){if(!c[n]){var i=Object.getOwnPropertyDescriptor(e,n);if(!i||i.configurable){var o,a,u=Object.getOwnPropertyDescriptor(t,n);if(!r){if("cid"===n)return;var l=Object.getOwnPropertyDescriptor(s,n);if(o=u.value,a=typeof o,null!=o&&("object"===a||"function"===a)&&l&&l.value===u.value)return}Object.defineProperty(e,n,u)}}})}(p,t,d),n&&(i(l=p,m=t),Object.getOwnPropertyNames(m.prototype).forEach(function(e){i(l.prototype,m.prototype,e)}),Object.getOwnPropertyNames(m).forEach(function(e){i(l,m,e)})),p}var c={prototype:!0,arguments:!0,callee:!0,caller:!0};function l(e){return"function"==typeof e?u(e):function(t){return u(t,e)}}function m(e){return o(function(t,s){void 0===t.inject&&(t.inject={}),Array.isArray(t.inject)||(t.inject[s]=e||s)})}l.registerHooks=function(e){a.push.apply(a,e)};var h="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function d(e){return void 0===e&&(e={}),function(t,s){!function(e,t,s){h&&(Array.isArray(e)||"function"==typeof e||void 0!==e.type||(e.type=Reflect.getMetadata("design:type",t,s)))}(e,t,s),o(function(t,s){(t.props||(t.props={}))[s]=e})(t,s)}}function p(e,t){void 0===t&&(t={});var s=t.deep,n=void 0!==s&&s,i=t.immediate,r=void 0!==i&&i;return o(function(t,s){"object"!=typeof t.watch&&(t.watch=Object.create(null));var i=t.watch;"object"!=typeof i[e]||Array.isArray(i[e])?void 0===i[e]&&(i[e]=[]):i[e]=[i[e]],i[e].push({handler:s,deep:n,immediate:r})})}var v=function(e,t,s,n,i,r,o,a,u,c){"boolean"!=typeof o&&(u=a,a=o,o=!1);var l,m="function"==typeof s?s.options:s;if(e&&e.render&&(m.render=e.render,m.staticRenderFns=e.staticRenderFns,m._compiled=!0,i&&(m.functional=!0)),n&&(m._scopeId=n),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},m._ssrRegister=l):t&&(l=o?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),l)if(m.functional){var h=m.render;m.render=function(e,t){return l.call(t),h(e,t)}}else{var d=m.beforeCreate;m.beforeCreate=d?[].concat(d,l):[l]}return s};var f=v({render:function(e,t){var s=t._c;return s("svg",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[s("symbol",{attrs:{id:"vssue-icon-bitbucket",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M579.5522464 489.45249493q4.8371808 38.38537173-30.81752427 61.55702827t-67.95459093 3.66689493q-23.79580907-10.37653333-32.6119616-35.34262826t-0.31207573-50.01020907 31.67573333-35.34262827q21.92335253-11.00068587 44.1587808-7.33379093t39.00952427 21.61127573 16.77409493 41.1160384zM647.19476053 476.65737173q-8.50407573-65.22392427-68.8908192-99.9424t-120.07131413-7.9579424q-38.38537173 17.08617173-61.24495253 53.9111616t-21.0651424 78.95527574q2.41859093 55.4715424 47.20152426 94.48106666t100.87862827 34.1723424q55.4715424-4.8371808 92.60860907-51.18049493t30.50544746-102.43900907zM792.93434133 146.32472427q-12.17097173-16.4620192-34.1723424-27.15062827t-35.34262826-13.41927573-43.30057174-7.64586667q-177.33729493-28.63299093-345.00022826 1.24830507-26.2144 4.29104747-40.25782827 7.33379093t-33.54819093 13.41927573-30.50544747 26.2144q18.2564576 17.08617173 46.34331413 27.6967616t44.78293334 13.41927574 53.36502826 7.02171413q138.95192427 17.71032427 273.06666667 0.62415253 38.38537173-4.8371808 54.53531413-7.33379093t44.1587808-13.1072 45.7191616-28.32091413zM827.65281813 777.10872427q-4.8371808 15.83786667-9.44030506 46.65539093t-8.50407574 51.18049493-17.39824746 42.6764192-35.34262827 34.4064q-52.4288 29.2571424-115.46819093 43.61264747t-123.1140576 13.41927573-122.8019808-11.3127616q-28.0088384-4.8371808-49.69813334-11.00068586t-46.65539093-16.4620192-44.4708576-26.52647574-31.67573333-37.4491424q-15.21371413-58.51428587-34.71847574-177.96144746l3.66689494-9.7523808 11.00068586-5.46133334q135.9091808 90.1900192 308.72137174 90.1900192t309.34552426-90.1900192q12.79512427 3.66689493 14.5895616 14.04342827t-3.0427424 27.46270507-4.8371808 22.54750506zM937.97175147 191.41973333q-15.83786667 101.8148576-67.64251414 399.22346667-3.0427424 18.2564576-16.4620192 34.1723424t-26.52647573 24.3419424-33.23611413 18.88060907q-153.61950507 76.7707424-371.8387808 53.67710506-151.12289493-16.4620192-240.14262827-84.72868586-9.12822827-7.33379093-15.52579093-16.1499424t-10.37653334-21.2992-5.46133333-20.75306667-3.66689493-24.10788587-3.3548192-21.2992q-5.46133333-30.50544747-16.1499424-91.43832426t-17.08617174-98.4600384-14.35550506-89.8779424-13.41927574-96.27550507q1.7944384-15.83786667 10.68860907-29.5692192t19.19268587-22.8595808 27.46270506-18.2564576 28.0088384-13.73135253 29.2571424-11.3127616q76.22460907-28.0088384 190.75657174-39.00952427 231.0144-22.54750507 412.01859093 30.50544747 94.48106667 28.0088384 131.072 74.35215253 9.7523808 12.17097173 10.0644576 31.0515808t-3.3548192 32.9240384z"}})]),t._v(" "),s("symbol",{attrs:{id:"vssue-icon-gitee",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M978.404275 409.561604H455.061338c-25.117645 0-45.499734 20.382089-45.499734 45.499734l-0.031997 113.781333c0 25.117645 20.350092 45.499734 45.499734 45.531731h318.594132c25.117645 0 45.499734 20.382089 45.499734 45.499735v22.749867a136.5312 136.5312 0 0 1-136.5312 136.5312H250.248539a45.499734 45.499734 0 0 1-45.499734-45.499734V341.343999a136.5312 136.5312 0 0 1 136.5312-136.5312L978.308284 204.780802c25.117645 0 45.499734-20.350092 45.499734-45.467738L1023.904009 45.531731h0.031997A45.499734 45.499734 0 0 0 978.468269 0h-0.031997L341.343999 0.031997C152.84967 0.031997 0.031997 152.84967 0.031997 341.343999v637.092273c0 25.117645 20.382089 45.499734 45.499734 45.499734h671.233072a307.171203 307.171203 0 0 0 307.171203-307.171203v-261.671468c0-25.117645-20.382089-45.499734-45.499734-45.499734z"}})]),t._v(" "),s("symbol",{attrs:{id:"vssue-icon-github",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M512 20.4425c-278.334 0-504 225.6345-504 504 0 222.6735 144.4275 411.6105 344.673 478.233 25.2 4.662 34.461-10.9305 34.461-24.255 0-12.0015-0.4725-51.723-0.693-93.8385-140.238 30.492-169.8165-59.472-169.8165-59.472-22.932-58.2435-55.944-73.7415-55.944-73.7415-45.738-31.2795 3.465-30.6495 3.465-30.6495 50.589 3.5595 77.238 51.9435 77.238 51.9435 44.9505 77.049 117.9045 54.7785 146.664 41.895 4.5045-32.571 17.577-54.81 32.004-67.41-111.951-12.726-229.635-55.9755-229.635-249.0705 0-55.0305 19.6875-99.981 51.9435-135.2925-5.229-12.6945-22.491-63.945 4.8825-133.371 0 0 42.336-13.545 138.6315 51.66 40.194-11.1825 83.3175-16.758 126.1575-16.9785 42.8085 0.189 85.9635 5.796 126.252 16.9785 96.201-65.205 138.4425-51.66 138.4425-51.66 27.4365 69.426 10.1745 120.6765 4.9455 133.371 32.319 35.28 51.8805 80.262 51.8805 135.2925 0 193.5675-117.9045 236.187-230.139 248.6925 18.081 15.6555 34.1775 46.305 34.1775 93.3345 0 67.4415-0.5985 121.716-0.5985 138.3165 0 13.419 9.072 29.1375 34.6185 24.192 200.151-66.717 344.3895-255.5595 344.3895-478.17 0-278.3655-225.666-504-504-504z"}})]),t._v(" "),s("symbol",{attrs:{id:"vssue-icon-gitlab",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M66.61375986 405.11600042L512.11376028 976.03999972 23.84576 621.65599958a39.312 39.312 0 0 1-14.07600042-43.30799944l56.8080007-173.26800028z m259.88400014 0h371.26800014L512.14975986 976.03999972zM215.11376 60.88400042l111.384 344.232H66.61375986l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z m742.49999972 344.232l56.8080007 173.2679993a39.23999986 39.23999986 0 0 1-14.07600042 43.30800042l-488.26800028 354.38400014 445.50000042-570.92400028z m0 0h-259.88400014l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z"}})]),t._v(" "),s("symbol",{attrs:{id:"vssue-icon-loading",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M843.307 742.24c0 3.217 2.607 5.824 5.824 5.824s5.824-2.607 5.824-5.824a5.823 5.823 0 0 0-5.824-5.824 5.823 5.823 0 0 0-5.824 5.824zM714.731 874.912c0 6.398 5.186 11.584 11.584 11.584s11.584-5.186 11.584-11.584-5.186-11.584-11.584-11.584-11.584 5.186-11.584 11.584zM541.419 943.2c0 9.614 7.794 17.408 17.408 17.408s17.408-7.794 17.408-17.408-7.794-17.408-17.408-17.408-17.408 7.794-17.408 17.408z m-186.56-9.152c0 12.795 10.373 23.168 23.168 23.168s23.168-10.373 23.168-23.168-10.373-23.168-23.168-23.168-23.168 10.373-23.168 23.168zM189.355 849.12c0 16.012 12.98 28.992 28.992 28.992s28.992-12.98 28.992-28.992-12.98-28.992-28.992-28.992-28.992 12.98-28.992 28.992zM74.731 704.736c0 19.228 15.588 34.816 34.816 34.816s34.816-15.588 34.816-34.816-15.588-34.816-34.816-34.816-34.816 15.588-34.816 34.816z m-43.008-177.28c0 22.41 18.166 40.576 40.576 40.576s40.576-18.166 40.576-40.576-18.166-40.576-40.576-40.576-40.576 18.166-40.576 40.576z m35.392-176.128c0 25.626 20.774 46.4 46.4 46.4s46.4-20.774 46.4-46.4c0-25.626-20.774-46.4-46.4-46.4-25.626 0-46.4 20.774-46.4 46.4z m106.176-142.016c0 28.843 23.381 52.224 52.224 52.224s52.224-23.381 52.224-52.224c0-28.843-23.381-52.224-52.224-52.224-28.843 0-52.224 23.381-52.224 52.224z m155.904-81.344c0 32.024 25.96 57.984 57.984 57.984s57.984-25.96 57.984-57.984-25.96-57.984-57.984-57.984-57.984 25.96-57.984 57.984z m175.104-5.056c0 35.24 28.568 63.808 63.808 63.808s63.808-28.568 63.808-63.808c0-35.24-28.568-63.808-63.808-63.808-35.24 0-63.808 28.568-63.808 63.808z m160.32 72.128c0 38.421 31.147 69.568 69.568 69.568s69.568-31.147 69.568-69.568-31.147-69.568-69.568-69.568-69.568 31.147-69.568 69.568z m113.92 135.488c0 41.638 33.754 75.392 75.392 75.392s75.392-33.754 75.392-75.392-33.754-75.392-75.392-75.392-75.392 33.754-75.392 75.392z m45.312 175.488c0 44.854 36.362 81.216 81.216 81.216s81.216-36.362 81.216-81.216c0-44.854-36.362-81.216-81.216-81.216-44.854 0-81.216 36.362-81.216 81.216z"}})]),t._v(" "),s("symbol",{attrs:{id:"vssue-icon-like",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4-20.5-21.5-48.1-33.4-77.9-33.4-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-0.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81z m636.4-353l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5c5.2-18.9 22.5-32.2 42.2-32.3 7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}})]),t._v(" "),s("symbol",{attrs:{id:"vssue-icon-unlike",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4-8.3-3.6-17.2-5.4-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81z m627.2 160.4H496.8l9.6 198.4c0.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7-19.6-0.1-36.9-13.4-42.2-32.3L329 459.2V172h415.4c20.4 9.2 33.6 29.4 33.6 51.8 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 19.1-11 37.5-28.8 48.4z"}})]),t._v(" "),s("symbol",{attrs:{id:"vssue-icon-heart",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}})]),t._v(" "),s("symbol",{attrs:{id:"vssue-icon-edit",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M723.2 917.76H286.72c-65.28 0-118.4-51.2-118.4-113.92V261.76C168.32 198.4 221.44 147.2 286.72 147.2h375.04c17.92 0 32 14.08 32 32s-14.08 32-32 32H286.72c-30.08 0-54.4 22.4-54.4 49.92v542.08c0 27.52 24.32 49.92 54.4 49.92H723.2c30.08 0 54.4-22.4 54.4-49.92V440.32c0-17.92 14.08-32 32-32s32 14.08 32 32v363.52c0 62.72-53.12 113.92-118.4 113.92z"}}),t._v(" "),s("path",{attrs:{d:"M499.84 602.24c-7.68 0-14.72-2.56-21.12-7.68-13.44-11.52-14.72-32-3.2-45.44L780.16 198.4c11.52-13.44 32-14.72 45.44-3.2s14.72 32 3.2 45.44L524.16 591.36c-6.4 7.04-15.36 10.88-24.32 10.88z"}})]),t._v(" "),s("symbol",{attrs:{id:"vssue-icon-delete",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M677.647059 256l0-90.352941c0-37.436235-23.461647-60.235294-61.771294-60.235294L408.094118 105.411765c-38.249412 0-61.741176 22.799059-61.741176 60.235294l0 90.352941-180.705882 0 0 60.235294 60.235294 0 0 512c0 54.272 33.972706 90.352941 90.352941 90.352941l391.529412 0c55.085176 0 90.352941-33.490824 90.352941-90.352941l0-512 60.235294 0 0-60.235294L677.647059 256zM406.588235 165.647059l210.823529 0-1.264941 90.352941L406.588235 256 406.588235 165.647059zM737.882353 858.352941l-451.764706 0 0-542.117647 451.764706 0L737.882353 858.352941zM466.823529 376.470588l-58.729412 0-1.505882 391.529412 60.235294 0L466.823529 376.470588zM617.411765 376.470588l-60.235294 0 0 391.529412 60.235294 0L617.411765 376.470588z"}})]),t._v(" "),s("symbol",{attrs:{id:"vssue-icon-reply",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M426.666667 384 426.666667 213.333333 128 512 426.666667 810.666667 426.666667 635.733333C640 635.733333 789.333333 704 896 853.333333 853.333333 640 725.333333 426.666667 426.666667 384Z"}})]),t._v(" "),s("symbol",{attrs:{id:"vssue-icon-error",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M512 720m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"}}),t._v(" "),s("path",{attrs:{d:"M480 416v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z"}}),t._v(" "),s("path",{attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48z m-783.5-27.9L512 239.9l339.8 588.2H172.2z"}})])])},staticRenderFns:[]},void 0,e.extend({name:"Iconfont"}),void 0,!0,void 0,void 0,void 0);var g=v({},void 0,e.extend({name:"TransitionFade",functional:!0,props:{group:{type:Boolean,required:!1,default:!1}},render:(e,{props:t,children:s})=>e(t.group?"TransitionGroup":"Transition",{props:{name:"fade",mode:"out-in",appear:!0}},s)}),void 0,void 0,void 0,void 0,void 0);var y=v({},void 0,e.extend({name:"VssueIcon",functional:!0,props:{name:{type:String,required:!0},title:{type:String,required:!1,default:null}},render:(e,{props:t,data:s})=>e("svg",Object.assign({},s,{class:["vssue-icon",`vssue-icon-${t.name}`],attrs:{"aria-hidden":"true"}}),[e("title",t.title),e("use",{attrs:{"xlink:href":`#vssue-icon-${t.name}`}})])}),void 0,void 0,void 0,void 0,void 0),_=function(e){var t=new Date(e.getTime()),s=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*s+t.getTime()%6e4};var b=function(e){return e instanceof Date},w=36e5,C=6e4,k=2,I=/[T ]/,M=/:/,$=/^(\d{2})$/,T=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],P=/^(\d{4})/,x=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],D=/^-(\d{2})$/,F=/^-?(\d{3})$/,A=/^-?(\d{2})-?(\d{2})$/,O=/^-?W(\d{2})$/,R=/^-?W(\d{2})-?(\d{1})$/,S=/^(\d{2}([.,]\d*)?)$/,L=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,z=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,q=/([Z+-].*)$/,N=/^(Z)$/,V=/^([+-])(\d{2})$/,E=/^([+-])(\d{2}):?(\d{2})$/;function H(e,t,s){t=t||0,s=s||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var i=7*t+s+1-(n.getUTCDay()||7);return n.setUTCDate(n.getUTCDate()+i),n}var j=function(e,t){if(b(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var s=(t||{}).additionalDigits;s=null==s?k:Number(s);var n=function(e){var t,s={},n=e.split(I);if(M.test(n[0])?(s.date=null,t=n[0]):(s.date=n[0],t=n[1]),t){var i=q.exec(t);i?(s.time=t.replace(i[1],""),s.timezone=i[1]):s.time=t}return s}(e),i=function(e,t){var s,n=T[t],i=x[t];if(s=P.exec(e)||i.exec(e)){var r=s[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(s=$.exec(e)||n.exec(e)){var o=s[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(n.date,s),r=i.year,o=function(e,t){if(null===t)return null;var s,n,i,r;if(0===e.length)return(n=new Date(0)).setUTCFullYear(t),n;if(s=D.exec(e))return n=new Date(0),i=parseInt(s[1],10)-1,n.setUTCFullYear(t,i),n;if(s=F.exec(e)){n=new Date(0);var o=parseInt(s[1],10);return n.setUTCFullYear(t,0,o),n}if(s=A.exec(e)){n=new Date(0),i=parseInt(s[1],10)-1;var a=parseInt(s[2],10);return n.setUTCFullYear(t,i,a),n}if(s=O.exec(e))return r=parseInt(s[1],10)-1,H(t,r);if(s=R.exec(e)){r=parseInt(s[1],10)-1;var u=parseInt(s[2],10)-1;return H(t,r,u)}return null}(i.restDateString,r);if(o){var a,u=o.getTime(),c=0;if(n.time&&(c=function(e){var t,s,n;if(t=S.exec(e))return(s=parseFloat(t[1].replace(",",".")))%24*w;if(t=L.exec(e))return s=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),s%24*w+n*C;if(t=z.exec(e)){s=parseInt(t[1],10),n=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return s%24*w+n*C+1e3*i}return null}(n.time)),n.timezone)p=n.timezone,a=((v=N.exec(p))?0:(v=V.exec(p))?(f=60*parseInt(v[2],10),"+"===v[1]?-f:f):(v=E.exec(p))?(f=60*parseInt(v[2],10)+parseInt(v[3],10),"+"===v[1]?-f:f):0)*C;else{var l=u+c,m=new Date(l);a=_(m);var h=new Date(l);h.setDate(m.getDate()+1);var d=_(h)-_(m);d>0&&(a+=d)}return new Date(u+c+a)}var p,v,f;return new Date(e)};var U=function(e){var t=j(e),s=new Date(0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s};var W=function(e){var t=j(e);return t.setHours(0,0,0,0),t},Y=6e4,G=864e5;var B=function(e,t){var s=W(e),n=W(t),i=s.getTime()-s.getTimezoneOffset()*Y,r=n.getTime()-n.getTimezoneOffset()*Y;return Math.round((i-r)/G)};var J=function(e){var t=j(e);return B(t,U(t))+1};var X=function(e,t){var s=t&&Number(t.weekStartsOn)||0,n=j(e),i=n.getDay(),r=(i<s?7:0)+i-s;return n.setDate(n.getDate()-r),n.setHours(0,0,0,0),n};var Z=function(e){return X(e,{weekStartsOn:1})};var K=function(e){var t=j(e),s=t.getFullYear(),n=new Date(0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);var i=Z(n),r=new Date(0);r.setFullYear(s,0,4),r.setHours(0,0,0,0);var o=Z(r);return t.getTime()>=i.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1};var Q=function(e){var t=K(e),s=new Date(0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Z(s)},ee=6048e5;var te=function(e){var t=j(e),s=Z(t).getTime()-Q(t).getTime();return Math.round(s/ee)+1};var se=function(e){if(b(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")};var ne=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];var ie=function(e){var t=[];for(var s in e)e.hasOwnProperty(s)&&t.push(s);var n=ne.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+n.join("|")+"|.)","g")};var re=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Su","Mo","Tu","We","Th","Fr","Sa"],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["AM","PM"],o=["am","pm"],a=["a.m.","p.m."],u={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return s[e.getDay()]},ddd:function(e){return n[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?r[1]:r[0]},a:function(e){return e.getHours()/12>=1?o[1]:o[0]},aa:function(e){return e.getHours()/12>=1?a[1]:a[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){u[e+"o"]=function(t,s){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(s[e](t))}}),{formatters:u,formattingTokensRegExp:ie(u)}},oe={distanceInWords:function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,s,n){var i;return n=n||{},i="string"==typeof e[t]?e[t]:1===s?e[t].one:e[t].other.replace("{{count}}",s),n.addSuffix?n.comparison>0?"in "+i:i+" ago":i}}}(),format:re()};var ae={M:function(e){return e.getMonth()+1},MM:function(e){return ce(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return ce(e.getDate(),2)},DDD:function(e){return J(e)},DDDD:function(e){return ce(J(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return te(e)},WW:function(e){return ce(te(e),2)},YY:function(e){return ce(e.getFullYear(),4).substr(2)},YYYY:function(e){return ce(e.getFullYear(),4)},GG:function(e){return String(K(e)).substr(2)},GGGG:function(e){return K(e)},H:function(e){return e.getHours()},HH:function(e){return ce(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return ce(ae.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return ce(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return ce(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return ce(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return ce(e.getMilliseconds(),3)},Z:function(e){return ue(e.getTimezoneOffset(),":")},ZZ:function(e){return ue(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function ue(e,t){t=t||"";var s=e>0?"-":"+",n=Math.abs(e),i=n%60;return s+ce(Math.floor(n/60),2)+t+ce(i,2)}function ce(e,t){for(var s=Math.abs(e).toString();s.length<t;)s="0"+s;return s}var le=function(e,t,s){var n=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=(s||{}).locale,r=oe.format.formatters,o=oe.format.formattingTokensRegExp;i&&i.format&&i.format.formatters&&(r=i.format.formatters,i.format.formattingTokensRegExp&&(o=i.format.formattingTokensRegExp));var a=j(e);return se(a)?function(e,t,s){var n,i,r,o=e.match(s),a=o.length;for(n=0;n<a;n++)i=t[o[n]]||ae[o[n]],o[n]=i||((r=o[n]).match(/\[[\s\S]/)?r.replace(/^\[|]$/g,""):r.replace(/\\/g,""));return function(e){for(var t="",s=0;s<a;s++)o[s]instanceof Function?t+=o[s](e,ae):t+=o[s];return t}}(n,r,o)(a):"Invalid Date"};!function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase())}();const me=e=>{return le(e,"YYYY-MM-DD HH:mm:ss")};let he=class extends e{constructor(){super(...arguments),this.editMode=!1,this.editContent=this.comment.contentRaw,this.creatingReactions=[],this.isPutingComment=!1,this.isDeletingComment=!1}get currentUser(){return this.vssue.user?this.vssue.user.username:null}get content(){return this.comment.content}get author(){return this.comment.author}get createdAt(){return me(this.comment.createdAt)}get updatedAt(){return me(this.comment.updatedAt)}get showReactions(){return Boolean(this.vssue.API&&this.vssue.API.platform.meta.reactable&&this.comment.reactions&&!this.editMode)}get reactionKeys(){return["heart","like","unlike"]}get editContentRows(){return this.editContent.split("\n").length-1}get editInputRows(){return this.editContentRows<3?5:this.editContentRows+2}async postReaction({reaction:e}){try{if(this.creatingReactions.includes(e))return;this.creatingReactions.push(e),await this.vssue.postCommentReaction({commentId:this.comment.id,reaction:e})||this.vssue.$emit("error",new Error(this.vssue.$t("reactionGiven",{reaction:this.vssue.$t(e)})));const t=await this.vssue.getCommentReactions({commentId:this.comment.id});t&&(this.comment.reactions=t)}finally{this.creatingReactions.splice(this.creatingReactions.findIndex(t=>t===e),1)}}enterEdit(){this.editMode=!0,this.$nextTick(()=>{this.$refs.input.focus()})}resetEdit(){this.editMode=!1,this.editContent=this.comment.contentRaw}async putComment(){try{if(this.vssue.isPending)return;if(this.editContent!==this.comment.contentRaw){this.isPutingComment=!0,this.vssue.isUpdatingComment=!0;const e=await this.vssue.putComment({commentId:this.comment.id,content:this.editContent});e&&this.vssue.comments.data.splice(this.vssue.comments.data.findIndex(e=>e.id===this.comment.id),1,e)}this.editMode=!1}finally{this.isPutingComment=!1,this.vssue.isUpdatingComment=!1}}async deleteComment(){try{if(this.vssue.isPending)return;if(!window.confirm(this.vssue.$t("deleteConfirm")))return;this.isDeletingComment=!0,this.vssue.isUpdatingComment=!0,await this.vssue.deleteComment({commentId:this.comment.id})?(this.vssue.comments.count-=1,this.vssue.comments.data.length>1&&this.vssue.comments.data.splice(this.vssue.comments.data.findIndex(e=>e.id===this.comment.id),1),this.vssue.query.page>1&&this.vssue.query.page>Math.ceil(this.vssue.comments.count/this.vssue.query.perPage)?this.vssue.query.page-=1:await this.vssue.getComments()):this.vssue.$emit("error",new Error(this.vssue.$t("deleteFailed")))}finally{this.isDeletingComment=!1,this.vssue.isUpdatingComment=!1}}};s([d({type:Object,required:!0})],he.prototype,"comment",void 0),s([m()],he.prototype,"vssue",void 0);var de=v({render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vssue-comment",class:{"vssue-comment-edit-mode":e.editMode,"vssue-comment-disabled":e.isDeletingComment||e.isPutingComment}},[s("div",{staticClass:"vssue-comment-avatar"},[s("a",{attrs:{href:e.author.homepage,title:e.author.username,target:"_blank"}},[s("img",{attrs:{src:e.author.avatar}})])]),e._v(" "),s("div",{staticClass:"vssue-comment-body"},[e._t("body",[s("div",{staticClass:"vssue-comment-header"},[s("span",{staticClass:"vssue-comment-author"},[s("a",{attrs:{href:e.author.homepage,title:e.author.username,target:"_blank"}},[e._v("\n            "+e._s(e.author.username)+"\n          ")])]),e._v(" "),s("span",{staticClass:"vssue-comment-created-at"},[e._v("\n          "+e._s(e.createdAt)+"\n        ")])]),e._v(" "),s("div",{staticClass:"vssue-comment-main"},[e.editMode?s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editContent,expression:"editContent"}],ref:"input",staticClass:"vssue-edit-comment-input",attrs:{rows:e.editInputRows},domProps:{value:e.editContent},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.putComment():null},input:function(t){t.target.composing||(e.editContent=t.target.value)}}}):s("article",{staticClass:"markdown-body",domProps:{innerHTML:e._s(e.content)}})]),e._v(" "),s("div",{staticClass:"vssue-comment-footer"},[e.editMode?s("span",{staticClass:"vssue-comment-hint"},[e._v("\n          "+e._s(e.vssue.$t("editMode"))+"\n        ")]):e._e(),e._v(" "),e.showReactions?s("span",{staticClass:"vssue-comment-reactions"},e._l(e.reactionKeys,function(t){return s("span",{key:t,staticClass:"vssue-comment-reaction",attrs:{title:e.vssue.$t(e.creatingReactions.includes(t)?"loading":t)},on:{click:function(s){return e.postReaction({reaction:t})}}},[s("VssueIcon",{attrs:{name:e.creatingReactions.includes(t)?"loading":t,title:e.vssue.$t(e.creatingReactions.includes(t)?"loading":t)}}),e._v(" "),s("span",{staticClass:"vssue-comment-reaction-number"},[e._v("\n              "+e._s(e.comment.reactions[t])+"\n            ")])],1)}),0):e._e(),e._v(" "),s("span",{staticClass:"vssue-comment-operations"},[e.comment.author.username===e.currentUser&&e.editMode?s("span",{staticClass:"vssue-comment-operation",class:{"vssue-comment-operation-muted":e.isPutingComment},attrs:{title:e.vssue.$t(e.isPutingComment?"loading":"submit")},on:{click:function(t){return e.putComment()}}},[s("VssueIcon",{directives:[{name:"show",rawName:"v-show",value:e.isPutingComment,expression:"isPutingComment"}],attrs:{name:"loading",title:e.vssue.$t("loading")}}),e._v("\n\n            "+e._s(e.vssue.$t("submit"))+"\n          ")],1):e._e(),e._v(" "),e.comment.author.username===e.currentUser&&e.editMode?s("span",{staticClass:"vssue-comment-operation vssue-comment-operation-muted",attrs:{title:e.vssue.$t("cancel")},on:{click:function(t){return e.resetEdit()}}},[e._v("\n            "+e._s(e.vssue.$t("cancel"))+"\n          ")]):e._e(),e._v(" "),e.comment.author.username===e.currentUser?s("span",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}],staticClass:"vssue-comment-operation",on:{click:function(t){return e.enterEdit()}}},[s("VssueIcon",{attrs:{name:"edit",title:e.vssue.$t("edit")}})],1):e._e(),e._v(" "),e.comment.author.username===e.currentUser||e.vssue.isAdmin?s("span",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}],staticClass:"vssue-comment-operation",on:{click:function(t){return e.deleteComment()}}},[s("VssueIcon",{attrs:{name:e.isDeletingComment?"loading":"delete",title:e.vssue.$t(e.isDeletingComment?"loading":"delete")}})],1):e._e(),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}],staticClass:"vssue-comment-operation",on:{click:function(t){return e.vssue.$emit("reply-comment",e.comment)}}},[s("VssueIcon",{attrs:{name:"reply",title:e.vssue.$t("reply")}})],1)])])])],2)])},staticRenderFns:[]},void 0,he=s([l({components:{VssueIcon:y}})],he),void 0,!1,void 0,void 0,void 0);let pe=class extends e{get disabled(){return this.vssue.isPending}get pageCount(){const e=Math.ceil(this.vssue.comments.count/this.vssue.comments.perPage);return e>1?e:1}get perPageOptions(){const e=[5,10,20,50];return!e.includes(this.vssue.options.perPage)&&this.vssue.options.perPage<100&&e.push(this.vssue.options.perPage),e.sort((e,t)=>e-t)}get page(){return this.vssue.query.page>this.pageCount?this.pageCount:this.vssue.query.page}set page(e){e>0&&e<=this.pageCount&&(this.vssue.query.page=e)}get perPage(){return this.vssue.query.perPage}set perPage(e){this.perPageOptions.includes(e)&&(this.vssue.query.perPage=e)}};s([m()],pe.prototype,"vssue",void 0);var ve=v({render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vssue-pagination"},[s("div",{staticClass:"vssue-pagination-per-page"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.perPage,expression:"perPage"}],staticClass:"vssue-pagination-select",attrs:{disabled:e.disabled},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.perPage=t.target.multiple?s:s[0]}}},e._l(e.perPageOptions,function(t){return s("option",{key:t,domProps:{value:t}},[e._v("\n        "+e._s(t)+"\n      ")])}),0),e._v(" "),s("span",[e._v("\n      "+e._s(e.vssue.$t("perPage"))+"\n    ")]),e._v(" "),e.vssue.API.platform.meta.sortable?s("span",{class:{"vssue-pagination-link":!0,disabled:e.disabled},attrs:{title:e.vssue.$t("sort")},on:{click:function(t){e.vssue.query.sort="asc"===e.vssue.query.sort?"desc":"asc"}}},[e._v("\n      "+e._s("asc"===e.vssue.query.sort?"↑":"↓")+"\n    ")]):e._e()]),e._v(" "),s("div",{staticClass:"vssue-pagination-page"},[s("span",{class:{"vssue-pagination-link":!0,disabled:1===e.page||e.disabled},attrs:{title:e.vssue.$t("prev")},domProps:{textContent:e._s("<")},on:{click:function(t){e.page-=1}}}),e._v(" "),s("span",[e._v("\n      "+e._s(e.vssue.$t("page"))+"\n    ")]),e._v(" "),s("select",{directives:[{name:"show",rawName:"v-show",value:e.pageCount>1,expression:"pageCount > 1"},{name:"model",rawName:"v-model",value:e.page,expression:"page"}],staticClass:"vssue-pagination-select",attrs:{disabled:e.disabled},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.page=t.target.multiple?s:s[0]}}},e._l(e.pageCount,function(t){return s("option",{key:t,domProps:{value:t}},[e._v("\n        "+e._s(t)+"\n      ")])}),0),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.pageCount<2,expression:"pageCount < 2"}],domProps:{textContent:e._s(e.page)}}),e._v(" "),s("span",{domProps:{textContent:e._s(" / "+e.pageCount+" ")}}),e._v(" "),s("span",{class:{"vssue-pagination-link":!0,disabled:e.page===e.pageCount||e.disabled},attrs:{title:e.vssue.$t("next")},domProps:{textContent:e._s(">")},on:{click:function(t){e.page+=1}}})])])},staticRenderFns:[]},void 0,pe=s([l({components:{VssueIcon:y}})],pe),void 0,!1,void 0,void 0,void 0);let fe=class extends e{};s([m()],fe.prototype,"vssue",void 0);var ge=v({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vssue-comments"},[t("VssuePagination"),this._v(" "),t("TransitionFade",{attrs:{group:""}},this._l(this.vssue.comments.data,function(e){return t("VssueComment",{key:e.id,attrs:{comment:e}})}),1),this._v(" "),t("VssuePagination",{directives:[{name:"show",rawName:"v-show",value:this.vssue.comments.data.length>5,expression:"vssue.comments.data.length > 5"}]})],1)},staticRenderFns:[]},void 0,fe=s([l({components:{TransitionFade:g,VssueComment:de,VssuePagination:ve}})],fe),void 0,!1,void 0,void 0,void 0);var ye=v({},void 0,e.extend({name:"VssueIcon",functional:!0,props:{type:{type:String,required:!1,default:"default"}},render:(e,{props:t,data:s,children:n})=>e("button",Object.assign({},s,{class:["vssue-button",`vssue-button-${t.type}`]}),n)}),void 0,void 0,void 0,void 0,void 0);let _e=class extends e{constructor(){super(...arguments),this.content=""}get user(){return this.vssue.user}get platform(){return this.vssue.API&&this.vssue.API.platform.name}get isInputDisabled(){return this.loading||null===this.user||null===this.vssue.issue}get isSubmitDisabled(){return""===this.content||this.vssue.isPending||null===this.vssue.issue}get loading(){return this.vssue.isCreatingComment}get contentRows(){return this.content.split("\n").length-1}get inputRows(){return this.contentRows<3?5:this.contentRows+2}created(){this.vssue.$on("reply-comment",e=>{const t=e.contentRaw.replace(/\n/g,"\n> "),s=`@${e.author.username}\n\n> ${t}\n\n`;this.content=this.content.concat(s),this.focus()})}beforeDestroy(){this.vssue.$off("reply-comment")}focus(){this.$refs.input.focus()}async submit(){this.isSubmitDisabled||(await this.vssue.postComment({content:this.content}),this.content="",await this.vssue.getComments())}};s([m()],_e.prototype,"vssue",void 0);var be=v({render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vssue-new-comment"},[s("div",{staticClass:"vssue-comment-avatar"},[e.user?s("a",{attrs:{href:e.user.homepage,title:e.user.username,target:"_blank"}},[s("img",{attrs:{src:e.user.avatar}})]):s("VssueIcon",{attrs:{name:e.platform.toLowerCase(),title:e.vssue.$t("loginToComment",{platform:e.platform})},on:{click:function(t){return e.vssue.login()}}})],1),e._v(" "),s("div",{staticClass:"vssue-new-comment-body"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],ref:"input",staticClass:"vssue-new-comment-input",attrs:{rows:e.inputRows,disabled:e.isInputDisabled,placeholder:e.vssue.$t(e.user?"placeholder":"noLoginPlaceHolder"),spellcheck:!1},domProps:{value:e.content},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},input:function(t){t.target.composing||(e.content=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"vssue-new-comment-footer"},[e.user?s("span",{staticClass:"vssue-current-user"},[s("span",[e._v(e._s(e.vssue.$t("currentUser"))+" - "+e._s(e.user.username)+" - ")]),e._v(" "),s("a",{staticClass:"vssue-logout",on:{click:function(t){return e.vssue.logout()}}},[e._v("\n        "+e._s(e.vssue.$t("logout"))+"\n      ")])]):s("span",{staticClass:"vssue-current-user"},[e._v("\n      "+e._s(e.vssue.$t("loginToComment",{platform:e.platform}))+"\n    ")]),e._v(" "),s("div",{staticClass:"vssue-new-comment-operations"},[e.user?s("VssueButton",{staticClass:"vssue-button-submit-comment",attrs:{type:"primary",disabled:e.isSubmitDisabled},on:{click:function(t){return e.submit()}}},[s("VssueIcon",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{name:"loading"}}),e._v("\n\n        "+e._s(e.vssue.$t(e.loading?"submitting":"submitComment"))+"\n      ")],1):s("VssueButton",{staticClass:"vssue-button-login",attrs:{type:"primary",title:e.vssue.$t("loginToComment",{platform:e.platform})},on:{click:function(t){return e.vssue.login()}}},[e._v("\n        "+e._s(e.vssue.$t("login",{platform:e.platform}))+"\n      ")])],1)])])},staticRenderFns:[]},void 0,_e=s([l({components:{VssueButton:ye,VssueIcon:y}})],_e),void 0,!1,void 0,void 0,void 0);let we=class extends e{constructor(){super(...arguments),this.progress={show:!1,percent:0,timer:null,speed:200},this.alert={show:!1,message:null,timer:null}}onLoadingCommentsChange(e){this.vssue.comments&&(e?this.progressStart():this.progressDone())}created(){this.vssue.$on("error",e=>this.alertShow(e.message))}beforeDestroy(){this.vssue.$off("error"),null!==this.progress.timer&&window.clearTimeout(this.progress.timer),null!==this.alert.timer&&window.clearTimeout(this.alert.timer)}progressStart(){this.progress.show=!0,this.progress.percent=0,this.progress.timer=window.setInterval(()=>{this.progress.percent+=5,this.progress.percent>94&&null!==this.progress.timer&&window.clearInterval(this.progress.timer)},this.progress.speed)}progressDone(){this.progress.percent=100,null!==this.progress.timer&&window.clearTimeout(this.progress.timer),this.progress.timer=null,window.setTimeout(()=>{this.progress.show=!1},this.progress.speed)}alertShow(e){this.alert.show=!0,this.alert.message=e,null!==this.alert.timer&&window.clearTimeout(this.alert.timer),this.alert.timer=window.setTimeout(()=>{this.alertHide()},3e3)}alertHide(){this.alert.show=!1,null!==this.alert.timer&&window.clearTimeout(this.alert.timer),this.alert.timer=null}};s([m()],we.prototype,"vssue",void 0),s([p("vssue.isLoadingComments")],we.prototype,"onLoadingCommentsChange",null);var Ce=v({render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vssue-notice"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.progress.show,expression:"progress.show"}],staticClass:"vssue-progress",style:{width:e.progress.percent+"%",transition:"all "+e.progress.speed+"ms linear"}}),e._v(" "),s("TransitionFade",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.alert.show,expression:"alert.show"}],staticClass:"vssue-alert",domProps:{textContent:e._s(e.alert.message)},on:{click:function(t){return e.alertHide()}}})])],1)},staticRenderFns:[]},void 0,we=s([l({components:{TransitionFade:g}})],we),void 0,!1,void 0,void 0,void 0);let ke=class extends e{get status(){return this.vssue.isFailed?"failed":this.vssue.isInitializing?"initializing":this.vssue.isIssueNotCreated&&!this.vssue.isCreatingIssue?this.vssue.isAdmin||!this.vssue.isLogined?"issueNotCreated":"failed":this.vssue.isLoginRequired?"loginRequired":!this.vssue.comments||this.vssue.isCreatingIssue?"loadingComments":0===this.vssue.comments.data.length?"noComments":null}handleClick(){"issueNotCreated"===this.status?this.vssue.postIssue():"loginRequired"===this.status&&this.vssue.login()}};s([m()],ke.prototype,"vssue",void 0);var Ie=v({render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("TransitionFade",[e.status?s("div",{key:e.status,staticClass:"vssue-status"},[["failed","loadingComments","initializing"].includes(e.status)?s("VssueIcon",{attrs:{name:"failed"===e.status?"error":"loading"}}):e._e(),e._v(" "),s("p",{staticClass:"vssue-status-info"},[s(["issueNotCreated","loginRequired"].includes(e.status)?"a":"span",{tag:"Component",on:{click:e.handleClick}},[e._v("\n        "+e._s(e.vssue.$t(e.status))+"\n      ")])],1)],1):e._e()])},staticRenderFns:[]},void 0,ke=s([l({components:{TransitionFade:g,VssueIcon:y}})],ke),void 0,!1,void 0,void 0,void 0);let Me=class extends e{};s([m()],Me.prototype,"vssue",void 0);var $e=v({render:function(){var e=this.$createElement,t=this._self._c||e;return t("TransitionFade",[this.vssue.isInitializing?t("VssueStatus"):t("div",{staticClass:"vssue-body"},[this.vssue.API?t("VssueNewComment"):this._e(),this._v(" "),t("VssueNotice"),this._v(" "),t("TransitionFade",[this.vssue.comments&&this.vssue.comments.data.length>0?t("VssueComments"):t("VssueStatus")],1)],1)],1)},staticRenderFns:[]},void 0,Me=s([l({components:{TransitionFade:g,VssueIcon:y,VssueComments:ge,VssueNewComment:be,VssueNotice:Ce,VssueStatus:Ie}})],Me),void 0,!1,void 0,void 0,void 0);let Te=class extends e{};s([m()],Te.prototype,"vssue",void 0);var Pe=v({render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vssue-header"},[s("a",{staticClass:"vssue-header-comments-count",attrs:{href:e.vssue.issue?e.vssue.issue.link:null,target:"_blank"}},[s("span",[e._v("\n      "+e._s(e.vssue.comments?e.vssue.$tc("comments",e.vssue.comments.count,{count:e.vssue.comments.count}):e.vssue.$tc("comments",0))+"\n    ")])]),e._v(" "),s("span",{staticClass:"vssue-header-powered-by"},[s("span",[e._v("Powered by")]),e._v(" "),e.vssue.API?s("span",[s("a",{attrs:{href:e.vssue.API.platform.link,target:"_blank",title:e.vssue.API.platform.name+" API "+e.vssue.API.platform.version}},[e._v("\n        "+e._s(e.vssue.API.platform.name)+"\n      ")]),e._v(" "),s("span",[e._v("&")])]):s("span"),e._v(" "),s("a",{attrs:{href:"https://github.com/meteorlxy/vssue",target:"_blank",title:"Vssue v"+e.vssue.version}},[e._v("\n      Vssue\n    ")])])])},staticRenderFns:[]},void 0,Te=s([l],Te),void 0,!1,void 0,void 0,void 0),xe=["style","currency","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","localeMatcher","formatMatcher"];
/*!
     * vue-i18n v8.11.2 
     * (c) 2019 kazuya kawaguchi
     * Released under the MIT License.
     */function De(e,t){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+e),t&&console.warn(t.stack))}function Fe(e){return null!==e&&"object"==typeof e}var Ae=Object.prototype.toString,Oe="[object Object]";function Re(e){return Ae.call(e)===Oe}function Se(e){return null==e}function Le(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var s=null,n=null;return 1===e.length?Fe(e[0])||Array.isArray(e[0])?n=e[0]:"string"==typeof e[0]&&(s=e[0]):2===e.length&&("string"==typeof e[0]&&(s=e[0]),(Fe(e[1])||Array.isArray(e[1]))&&(n=e[1])),{locale:s,params:n}}function ze(e){return JSON.parse(JSON.stringify(e))}var qe=Object.prototype.hasOwnProperty;function Ne(e,t){return qe.call(e,t)}function Ve(e){for(var t=arguments,s=Object(e),n=1;n<arguments.length;n++){var i=t[n];if(null!=i){var r=void 0;for(r in i)Ne(i,r)&&(Fe(i[r])?s[r]=Ve(s[r],i[r]):s[r]=i[r])}}return s}function Ee(e,t){if(e===t)return!0;var s=Fe(e),n=Fe(t);if(!s||!n)return!s&&!n&&String(e)===String(t);try{var i=Array.isArray(e),r=Array.isArray(t);if(i&&r)return e.length===t.length&&e.every(function(e,s){return Ee(e,t[s])});if(i||r)return!1;var o=Object.keys(e),a=Object.keys(t);return o.length===a.length&&o.every(function(s){return Ee(e[s],t[s])})}catch(e){return!1}}var He,je={beforeCreate:function(){var e=this.$options;if(e.i18n=e.i18n||(e.__i18n?{}:null),e.i18n){if(e.i18n instanceof It){if(e.__i18n)try{var t={};e.__i18n.forEach(function(e){t=Ve(t,JSON.parse(e))}),Object.keys(t).forEach(function(s){e.i18n.mergeLocaleMessage(s,t[s])})}catch(e){}this._i18n=e.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(Re(e.i18n)){if(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof It&&(e.i18n.root=this.$root,e.i18n.formatter=this.$root.$i18n.formatter,e.i18n.fallbackLocale=this.$root.$i18n.fallbackLocale,e.i18n.silentTranslationWarn=this.$root.$i18n.silentTranslationWarn,e.i18n.silentFallbackWarn=this.$root.$i18n.silentFallbackWarn,e.i18n.pluralizationRules=this.$root.$i18n.pluralizationRules,e.i18n.preserveDirectiveContent=this.$root.$i18n.preserveDirectiveContent),e.__i18n)try{var s={};e.__i18n.forEach(function(e){s=Ve(s,JSON.parse(e))}),e.i18n.messages=s}catch(e){}this._i18n=new It(e.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===e.i18n.sync||e.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale())}}else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof It?this._i18n=this.$root.$i18n:e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof It&&(this._i18n=e.parent.$i18n)},beforeMount:function(){var e=this.$options;e.i18n=e.i18n||(e.__i18n?{}:null),e.i18n?e.i18n instanceof It?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):Re(e.i18n)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof It?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof It&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},beforeDestroy:function(){if(this._i18n){var e=this;this.$nextTick(function(){e._subscribing&&(e._i18n.unsubscribeDataChanging(e),delete e._subscribing),e._i18nWatcher&&(e._i18nWatcher(),e._i18n.destroyVM(),delete e._i18nWatcher),e._localeWatcher&&(e._localeWatcher(),delete e._localeWatcher),e._i18n=null})}}},Ue={name:"i18n",functional:!0,props:{tag:{type:String,default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,t){var s=t.props,n=t.data,i=t.children,r=t.parent.$i18n;if(i=(i||[]).filter(function(e){return e.tag||(e.text=e.text.trim())}),!r)return i;var o=s.path,a=s.locale,u={},c=s.places||{},l=(Array.isArray(c)?c.length:Object.keys(c).length,i.every(function(e){if(e.data&&e.data.attrs){var t=e.data.attrs.place;return void 0!==t&&""!==t}}));return Array.isArray(c)?c.forEach(function(e,t){u[t]=e}):Object.keys(c).forEach(function(e){u[e]=c[e]}),i.forEach(function(e,t){var s=l?""+e.data.attrs.place:""+t;u[s]=e}),e(s.tag,n,r.i(o,a,u))}},We={name:"i18n-n",functional:!0,props:{tag:{type:String,default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,t){var s=t.props,n=t.parent,i=t.data,r=n.$i18n;if(!r)return null;var o=null,a=null;"string"==typeof s.format?o=s.format:Fe(s.format)&&(s.format.key&&(o=s.format.key),a=Object.keys(s.format).reduce(function(e,t){var n;return xe.includes(t)?Object.assign({},e,((n={})[t]=s.format[t],n)):e},null));var u=s.locale||r.locale,c=r._ntp(s.value,u,o,a),l=c.map(function(e,t){var s,n=i.scopedSlots&&i.scopedSlots[e.type];return n?n(((s={})[e.type]=e.value,s.index=t,s.parts=c,s)):e.value});return e(s.tag,{attrs:i.attrs,class:i.class,staticClass:i.staticClass},l)}};function Ye(e,t,s){Je(e,s)&&Xe(e,t,s)}function Ge(e,t,s,n){if(Je(e,s)){var i=s.context.$i18n;(function(e,t){var s=t.context;return e._locale===s.$i18n.locale})(e,s)&&Ee(t.value,t.oldValue)&&Ee(e._localeMessage,i.getLocaleMessage(i.locale))||Xe(e,t,s)}}function Be(e,t,s,n){if(s.context){var i=s.context.$i18n||{};t.modifiers.preserve||i.preserveDirectiveContent||(e.textContent=""),e._vt=void 0,delete e._vt,e._locale=void 0,delete e._locale,e._localeMessage=void 0,delete e._localeMessage}else De("Vue instance does not exists in VNode context")}function Je(e,t){var s=t.context;return s?!!s.$i18n||(De("VueI18n instance does not exists in Vue instance"),!1):(De("Vue instance does not exists in VNode context"),!1)}function Xe(e,t,s){var n,i,r=function(e){var t,s,n,i;"string"==typeof e?t=e:Re(e)&&(t=e.path,s=e.locale,n=e.args,i=e.choice);return{path:t,locale:s,args:n,choice:i}}(t.value),o=r.path,a=r.locale,u=r.args,c=r.choice;if(o||a||u)if(o){var l=s.context;e._vt=e.textContent=c?(n=l.$i18n).tc.apply(n,[o,c].concat(Ze(a,u))):(i=l.$i18n).t.apply(i,[o].concat(Ze(a,u))),e._locale=l.$i18n.locale,e._localeMessage=l.$i18n.getLocaleMessage(l.$i18n.locale)}else De("`path` is required in v-t directive");else De("value type not supported")}function Ze(e,t){var s=[];return e&&s.push(e),t&&(Array.isArray(t)||Re(t))&&s.push(t),s}function Ke(e){Ke.installed=!0;(He=e).version&&Number(He.version.split(".")[0]);!function(e){e.prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(e){for(var t=[],s=arguments.length-1;s-- >0;)t[s]=arguments[s+1];var n=this.$i18n;return n._t.apply(n,[e,n.locale,n._getMessages(),this].concat(t))},e.prototype.$tc=function(e,t){for(var s=[],n=arguments.length-2;n-- >0;)s[n]=arguments[n+2];var i=this.$i18n;return i._tc.apply(i,[e,i.locale,i._getMessages(),this,t].concat(s))},e.prototype.$te=function(e,t){var s=this.$i18n;return s._te(e,s.locale,s._getMessages(),t)},e.prototype.$d=function(e){for(var t,s=[],n=arguments.length-1;n-- >0;)s[n]=arguments[n+1];return(t=this.$i18n).d.apply(t,[e].concat(s))},e.prototype.$n=function(e){for(var t,s=[],n=arguments.length-1;n-- >0;)s[n]=arguments[n+1];return(t=this.$i18n).n.apply(t,[e].concat(s))}}(He),He.mixin(je),He.directive("t",{bind:Ye,update:Ge,unbind:Be}),He.component(Ue.name,Ue),He.component(We.name,We),He.config.optionMergeStrategies.i18n=function(e,t){return void 0===t?e:t}}var Qe=function(){this._caches=Object.create(null)};Qe.prototype.interpolate=function(e,t){if(!t)return[e];var s=this._caches[e];return s||(s=function(e){var t=[],s=0,n="";for(;s<e.length;){var i=e[s++];if("{"===i){n&&t.push({type:"text",value:n}),n="";var r="";for(i=e[s++];void 0!==i&&"}"!==i;)r+=i,i=e[s++];var o="}"===i,a=et.test(r)?"list":o&&tt.test(r)?"named":"unknown";t.push({value:r,type:a})}else"%"===i?"{"!==e[s]&&(n+=i):n+=i}return n&&t.push({type:"text",value:n}),t}(e),this._caches[e]=s),function(e,t){var s=[],n=0,i=Array.isArray(t)?"list":Fe(t)?"named":"unknown";if("unknown"===i)return s;for(;n<e.length;){var r=e[n];switch(r.type){case"text":s.push(r.value);break;case"list":s.push(t[parseInt(r.value,10)]);break;case"named":"named"===i&&s.push(t[r.value])}n++}return s}(s,t)};var et=/^(?:\d)+/,tt=/^(?:\w)+/;var st=0,nt=1,it=2,rt=3,ot=0,at=4,ut=5,ct=6,lt=7,mt=8,ht=[];ht[ot]={ws:[ot],ident:[3,st],"[":[at],eof:[lt]},ht[1]={ws:[1],".":[2],"[":[at],eof:[lt]},ht[2]={ws:[2],ident:[3,st],0:[3,st],number:[3,st]},ht[3]={ident:[3,st],0:[3,st],number:[3,st],ws:[1,nt],".":[2,nt],"[":[at,nt],eof:[lt,nt]},ht[at]={"'":[ut,st],'"':[ct,st],"[":[at,it],"]":[1,rt],eof:mt,else:[at,st]},ht[ut]={"'":[at,st],eof:mt,else:[ut,st]},ht[ct]={'"':[at,st],eof:mt,else:[ct,st]};var dt=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function pt(e){if(null==e)return"eof";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function vt(e){var t,s,n,i=e.trim();return("0"!==e.charAt(0)||!isNaN(e))&&(n=i,dt.test(n)?(s=(t=i).charCodeAt(0))!==t.charCodeAt(t.length-1)||34!==s&&39!==s?t:t.slice(1,-1):"*"+i)}var ft=function(){this._cache=Object.create(null)};ft.prototype.parsePath=function(e){var t=this._cache[e];return t||(t=function(e){var t,s,n,i,r,o,a,u=[],c=-1,l=ot,m=0,h=[];function d(){var t=e[c+1];if(l===ut&&"'"===t||l===ct&&'"'===t)return c++,n="\\"+t,h[st](),!0}for(h[nt]=function(){void 0!==s&&(u.push(s),s=void 0)},h[st]=function(){void 0===s?s=n:s+=n},h[it]=function(){h[st](),m++},h[rt]=function(){if(m>0)m--,l=at,h[st]();else{if(m=0,!1===(s=vt(s)))return!1;h[nt]()}};null!==l;)if("\\"!==(t=e[++c])||!d()){if(i=pt(t),(r=(a=ht[l])[i]||a.else||mt)===mt)return;if(l=r[0],(o=h[r[1]])&&(n=void 0===(n=r[2])?t:n,!1===o()))return;if(l===lt)return u}}(e))&&(this._cache[e]=t),t||[]},ft.prototype.getPathValue=function(e,t){if(!Fe(e))return null;var s=this.parsePath(t);if(0===s.length)return null;for(var n=s.length,i=e,r=0;r<n;){var o=i[s[r]];if(void 0===o)return null;i=o,r++}return i};var gt,yt=/<\/?[\w\s="\/.':;#-\/]+>/,_t=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|.]+|\([\w\-_|.]+\)))/g,bt=/^@(?:\.([a-z]+))?:/,wt=/[()]/g,Ct={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()}},kt=new Qe,It=function(e){var t=this;void 0===e&&(e={}),!He&&"undefined"!=typeof window&&window.Vue&&Ke(window.Vue);var s=e.locale||"en-US",n=e.fallbackLocale||"en-US",i=e.messages||{},r=e.dateTimeFormats||{},o=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||kt,this._missing=e.missing||null,this._root=e.root||null,this._sync=void 0===e.sync||!!e.sync,this._fallbackRoot=void 0===e.fallbackRoot||!!e.fallbackRoot,this._silentTranslationWarn=void 0!==e.silentTranslationWarn&&!!e.silentTranslationWarn,this._silentFallbackWarn=void 0!==e.silentFallbackWarn&&!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new ft,this._dataListeners=[],this._preserveDirectiveContent=void 0!==e.preserveDirectiveContent&&!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._exist=function(e,s){return!(!e||!s)&&(!Se(t._path.getPathValue(e,s))||!!e[s])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(i).forEach(function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,i[e])}),this._initVM({locale:s,fallbackLocale:n,messages:i,dateTimeFormats:r,numberFormats:o})},Mt={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0}};It.prototype._checkLocaleMessage=function(e,t,s){var n=function(e,t,s,i){if(Re(s))Object.keys(s).forEach(function(r){var o=s[r];Re(o)?(i.push(r),i.push("."),n(e,t,o,i),i.pop(),i.pop()):(i.push(r),n(e,t,o,i),i.pop())});else if(Array.isArray(s))s.forEach(function(s,r){Re(s)?(i.push("["+r+"]"),i.push("."),n(e,t,s,i),i.pop(),i.pop()):(i.push("["+r+"]"),n(e,t,s,i),i.pop())});else if("string"==typeof s){if(yt.test(s)){var r="Detected HTML in message '"+s+"' of keypath '"+i.join("")+"' at '"+t+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===e?De(r):"error"===e&&function(e,t){"undefined"!=typeof console&&(console.error("[vue-i18n] "+e),t&&console.error(t.stack))}(r)}}};n(t,e,s,[])},It.prototype._initVM=function(e){var t=He.config.silent;He.config.silent=!0,this._vm=new He({data:e}),He.config.silent=t},It.prototype.destroyVM=function(){this._vm.$destroy()},It.prototype.subscribeDataChanging=function(e){this._dataListeners.push(e)},It.prototype.unsubscribeDataChanging=function(e){!function(e,t){if(e.length){var s=e.indexOf(t);if(s>-1)e.splice(s,1)}}(this._dataListeners,e)},It.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",function(){for(var t=e._dataListeners.length;t--;)He.nextTick(function(){e._dataListeners[t]&&e._dataListeners[t].$forceUpdate()})},{deep:!0})},It.prototype.watchLocale=function(){if(!this._sync||!this._root)return null;var e=this._vm;return this._root.$i18n.vm.$watch("locale",function(t){e.$set(e,"locale",t),e.$forceUpdate()},{immediate:!0})},Mt.vm.get=function(){return this._vm},Mt.messages.get=function(){return ze(this._getMessages())},Mt.dateTimeFormats.get=function(){return ze(this._getDateTimeFormats())},Mt.numberFormats.get=function(){return ze(this._getNumberFormats())},Mt.availableLocales.get=function(){return Object.keys(this.messages).sort()},Mt.locale.get=function(){return this._vm.locale},Mt.locale.set=function(e){this._vm.$set(this._vm,"locale",e)},Mt.fallbackLocale.get=function(){return this._vm.fallbackLocale},Mt.fallbackLocale.set=function(e){this._vm.$set(this._vm,"fallbackLocale",e)},Mt.missing.get=function(){return this._missing},Mt.missing.set=function(e){this._missing=e},Mt.formatter.get=function(){return this._formatter},Mt.formatter.set=function(e){this._formatter=e},Mt.silentTranslationWarn.get=function(){return this._silentTranslationWarn},Mt.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e},Mt.silentFallbackWarn.get=function(){return this._silentFallbackWarn},Mt.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e},Mt.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},Mt.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e},Mt.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},Mt.warnHtmlInMessage.set=function(e){var t=this,s=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,s!==e&&("warn"===e||"error"===e)){var n=this._getMessages();Object.keys(n).forEach(function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,n[e])})}},It.prototype._getMessages=function(){return this._vm.messages},It.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},It.prototype._getNumberFormats=function(){return this._vm.numberFormats},It.prototype._warnDefault=function(e,t,s,n,i){if(!Se(s))return s;if(this._missing){var r=this._missing.apply(null,[e,t,n,i]);if("string"==typeof r)return r}return t},It.prototype._isFallbackRoot=function(e){return!e&&!Se(this._root)&&this._fallbackRoot},It.prototype._isSilentFallback=function(e){return this._silentFallbackWarn&&(this._isFallbackRoot()||e!==this.fallbackLocale)},It.prototype._interpolate=function(e,t,s,n,i,r,o){if(!t)return null;var a,u=this._path.getPathValue(t,s);if(Array.isArray(u)||Re(u))return u;if(Se(u)){if(!Re(t))return null;if("string"!=typeof(a=t[s]))return null}else{if("string"!=typeof u)return null;a=u}return(a.indexOf("@:")>=0||a.indexOf("@.")>=0)&&(a=this._link(e,t,a,n,"raw",r,o)),this._render(a,i,r,s)},It.prototype._link=function(e,t,s,n,i,r,o){var a=s,u=a.match(_t);for(var c in u)if(u.hasOwnProperty(c)){var l=u[c],m=l.match(bt),h=m[0],d=m[1],p=l.replace(h,"").replace(wt,"");if(o.includes(p))return a;o.push(p);var v=this._interpolate(e,t,p,n,"raw"===i?"string":i,"raw"===i?void 0:r,o);if(this._isFallbackRoot(v)){if(!this._root)throw Error("unexpected error");var f=this._root.$i18n;v=f._translate(f._getMessages(),f.locale,f.fallbackLocale,p,n,i,r)}v=this._warnDefault(e,p,v,n,Array.isArray(r)?r:[r]),Ct.hasOwnProperty(d)&&(v=Ct[d](v)),o.pop(),a=v?a.replace(l,v):a}return a},It.prototype._render=function(e,t,s,n){var i=this._formatter.interpolate(e,s,n);return i||(i=kt.interpolate(e,s,n)),"string"===t?i.join(""):i},It.prototype._translate=function(e,t,s,n,i,r,o){var a=this._interpolate(t,e[t],n,i,r,o,[n]);return Se(a)&&Se(a=this._interpolate(s,e[s],n,i,r,o,[n]))?null:a},It.prototype._t=function(e,t,s,n){for(var i,r=[],o=arguments.length-4;o-- >0;)r[o]=arguments[o+4];if(!e)return"";var a=Le.apply(void 0,r),u=a.locale||t,c=this._translate(s,u,this.fallbackLocale,e,n,"string",a.params);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return(i=this._root).$t.apply(i,[e].concat(r))}return this._warnDefault(u,e,c,n,r)},It.prototype.t=function(e){for(var t,s=[],n=arguments.length-1;n-- >0;)s[n]=arguments[n+1];return(t=this)._t.apply(t,[e,this.locale,this._getMessages(),null].concat(s))},It.prototype._i=function(e,t,s,n,i){var r=this._translate(s,t,this.fallbackLocale,e,n,"raw",i);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,t,i)}return this._warnDefault(t,e,r,n,[i])},It.prototype.i=function(e,t,s){return e?("string"!=typeof t&&(t=this.locale),this._i(e,t,this._getMessages(),null,s)):""},It.prototype._tc=function(e,t,s,n,i){for(var r,o=[],a=arguments.length-5;a-- >0;)o[a]=arguments[a+5];if(!e)return"";void 0===i&&(i=1);var u={count:i,n:i},c=Le.apply(void 0,o);return c.params=Object.assign(u,c.params),o=null===c.locale?[c.params]:[c.locale,c.params],this.fetchChoice((r=this)._t.apply(r,[e,t,s,n].concat(o)),i)},It.prototype.fetchChoice=function(e,t){if(!e&&"string"!=typeof e)return null;var s=e.split("|");return s[t=this.getChoiceIndex(t,s.length)]?s[t].trim():e},It.prototype.getChoiceIndex=function(e,t){var s,n;return this.locale in this.pluralizationRules?this.pluralizationRules[this.locale].apply(this,[e,t]):(s=e,n=t,s=Math.abs(s),2===n?s?s>1?1:0:1:s?Math.min(s,2):0)},It.prototype.tc=function(e,t){for(var s,n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];return(s=this)._tc.apply(s,[e,this.locale,this._getMessages(),null,t].concat(n))},It.prototype._te=function(e,t,s){for(var n=[],i=arguments.length-3;i-- >0;)n[i]=arguments[i+3];var r=Le.apply(void 0,n).locale||t;return this._exist(s[r],e)},It.prototype.te=function(e,t){return this._te(e,this.locale,this._getMessages(),t)},It.prototype.getLocaleMessage=function(e){return ze(this._vm.messages[e]||{})},It.prototype.setLocaleMessage=function(e,t){("warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||(this._checkLocaleMessage(e,this._warnHtmlInMessage,t),"error"!==this._warnHtmlInMessage))&&this._vm.$set(this._vm.messages,e,t)},It.prototype.mergeLocaleMessage=function(e,t){("warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||(this._checkLocaleMessage(e,this._warnHtmlInMessage,t),"error"!==this._warnHtmlInMessage))&&this._vm.$set(this._vm.messages,e,Ve(this._vm.messages[e]||{},t))},It.prototype.getDateTimeFormat=function(e){return ze(this._vm.dateTimeFormats[e]||{})},It.prototype.setDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,t)},It.prototype.mergeDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,Ve(this._vm.dateTimeFormats[e]||{},t))},It.prototype._localizeDateTime=function(e,t,s,n,i){var r=t,o=n[r];if((Se(o)||Se(o[i]))&&(o=n[r=s]),Se(o)||Se(o[i]))return null;var a=o[i],u=r+"__"+i,c=this._dateTimeFormatters[u];return c||(c=this._dateTimeFormatters[u]=new Intl.DateTimeFormat(r,a)),c.format(e)},It.prototype._d=function(e,t,s){if(!s)return new Intl.DateTimeFormat(t).format(e);var n=this._localizeDateTime(e,t,this.fallbackLocale,this._getDateTimeFormats(),s);if(this._isFallbackRoot(n)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,s,t)}return n||""},It.prototype.d=function(e){for(var t=[],s=arguments.length-1;s-- >0;)t[s]=arguments[s+1];var n=this.locale,i=null;return 1===t.length?"string"==typeof t[0]?i=t[0]:Fe(t[0])&&(t[0].locale&&(n=t[0].locale),t[0].key&&(i=t[0].key)):2===t.length&&("string"==typeof t[0]&&(i=t[0]),"string"==typeof t[1]&&(n=t[1])),this._d(e,n,i)},It.prototype.getNumberFormat=function(e){return ze(this._vm.numberFormats[e]||{})},It.prototype.setNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,t)},It.prototype.mergeNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,Ve(this._vm.numberFormats[e]||{},t))},It.prototype._getNumberFormatter=function(e,t,s,n,i,r){var o=t,a=n[o];if((Se(a)||Se(a[i]))&&(a=n[o=s]),Se(a)||Se(a[i]))return null;var u,c=a[i];if(r)u=new Intl.NumberFormat(o,Object.assign({},c,r));else{var l=o+"__"+i;(u=this._numberFormatters[l])||(u=this._numberFormatters[l]=new Intl.NumberFormat(o,c))}return u},It.prototype._n=function(e,t,s,n){if(!It.availabilities.numberFormat)return"";if(!s)return(n?new Intl.NumberFormat(t,n):new Intl.NumberFormat(t)).format(e);var i=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),s,n),r=i&&i.format(e);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:s,locale:t},n))}return r||""},It.prototype.n=function(e){for(var t=[],s=arguments.length-1;s-- >0;)t[s]=arguments[s+1];var n=this.locale,i=null,r=null;return 1===t.length?"string"==typeof t[0]?i=t[0]:Fe(t[0])&&(t[0].locale&&(n=t[0].locale),t[0].key&&(i=t[0].key),r=Object.keys(t[0]).reduce(function(e,s){var n;return xe.includes(s)?Object.assign({},e,((n={})[s]=t[0][s],n)):e},null)):2===t.length&&("string"==typeof t[0]&&(i=t[0]),"string"==typeof t[1]&&(n=t[1])),this._n(e,n,i,r)},It.prototype._ntp=function(e,t,s,n){if(!It.availabilities.numberFormat)return[];if(!s)return(n?new Intl.NumberFormat(t,n):new Intl.NumberFormat(t)).formatToParts(e);var i=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),s,n),r=i&&i.formatToParts(e);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,t,s,n)}return r||[]},Object.defineProperties(It.prototype,Mt),Object.defineProperty(It,"availabilities",{get:function(){if(!gt){var e="undefined"!=typeof Intl;gt={dateTimeFormat:e&&void 0!==Intl.DateTimeFormat,numberFormat:e&&void 0!==Intl.NumberFormat}}return gt}}),It.install=Ke,It.version="8.11.2";const $t={login:"Login with {platform}",logout:"Logout",currentUser:"Current User",loading:"Loading",submit:"Submit",submitting:"Submitting",submitComment:"Submit Comment",cancel:"Cancel",edit:"Edit",editMode:"Edit Mode",delete:"Delete",reply:"Reply",heart:"Heart",like:"Like",unlike:"Unlike",perPage:"Comments per page",sort:"Click to change the sort direction",page:"Page",prev:"Previous Page",next:"Next Page",comments:"Comments | {count} Comment | {count} Comments",loginToComment:"Login with {platform} account to leave a comment",placeholder:"Leave a comment. Styling with Markdown is supported. Ctrl + Enter to submit.",noLoginPlaceHolder:"Login to leave a comment. Styling with Markdown is supported. ",failed:"Failed to load comments",initializing:"Initializing...",issueNotCreated:"Click to create issue",loadingComments:"Loading comments...",loginRequired:"Login to view comments",noComments:"No comments yet. Leave the first comment !",reactionGiven:"Already given '{reaction}' reaction",deleteConfirm:"Confirm to delete this comment ?",deleteFailed:"Failed to delete comment"},Tt={login:"使用 {platform} 登录",logout:"退出登录",currentUser:"当前用户",loading:"加载中",submit:"提交",submitting:"发表中",submitComment:"发表评论",cancel:"取消",edit:"编辑",editMode:"编辑模式",delete:"删除",reply:"回复",heart:"喜欢",like:"赞",unlike:"踩",perPage:"每页评论数",sort:"点击改变排序方式",page:"页数",prev:"上一页",next:"下一页",comments:"评论 | {count} 条评论 | {count} 条评论",loginToComment:"使用 {platform} 帐号登录后发表评论",placeholder:"留下你的评论丨支持 Markdown 语法丨Ctrl + Enter 发表评论",noLoginPlaceHolder:"登录后才能发表评论丨支持 Markdown 语法",failed:"评论加载失败",initializing:"正在初始化...",issueNotCreated:"点击创建 Issue",loadingComments:"正在加载评论...",loginRequired:"登录后查看评论",noComments:"还没有评论，来发表第一条评论吧！",reactionGiven:"已经添加过 '{reaction}' 了",deleteConfirm:"确认要删除该评论吗？",deleteFailed:"评论删除失败"},Pt={login:"Entrar com {platform}",logout:"Sair",currentUser:"Usuário Atual",loading:"Carregando",submit:"Enviar",submitting:"Enviando",submitComment:"Enviar Comentário",cancel:"Cancelar",edit:"Editar",editMode:"Modo de Edição",delete:"Apagar",reply:"Responder",heart:"Heart",like:"Like",unlike:"Unlike",perPage:"Comentários por página",sort:"Clique para alterar a ordenação",page:"Página",prev:"Página Anterior",next:"Próxima Página",comments:"Comentários | {count} Comentário | {count} Comentários",loginToComment:"Entre com uma conta {platform} para deixar um comentário",placeholder:"Deixe um comentário. Estilos com Markdown suportados. Ctrl + Enter para enviar.",noLoginPlaceHolder:"Entre para deixar um comentário. Estilos com Markdown suportados. ",failed:"Falha ao carregar comentários",initializing:"Inicializando...",issueNotCreated:"Click to create issue",loadingComments:"Carregando comentários...",loginRequired:"Entrar para visualizar comentários",noComments:"Nenhum comentário. Deixe o primeiro comentário!",reactionGiven:"Já reagiu com '{reaction}'",deleteConfirm:"Apagar este comentário?",deleteFailed:"Falha ao apagar comentário"},xt={login:"{platform} でログイン",logout:"ログアウト",currentUser:"現在のユーザー",loading:"読み込み中",submit:"送信",submitting:"送信中",submitComment:"コメントを送信",cancel:"キャンセル",edit:"編集",editMode:"編集モード",delete:"削除",reply:"返信",heart:"ハート",like:"高評価",unlike:"低評価",perPage:"コメント/ページ",sort:"並び順を変更するにはクリックしてください",page:"ページ",prev:"前のページ",next:"次のページ",comments:"コメント | {count} コメント | {count} コメント",loginToComment:"コメントを残すには {platform} アカウントでログインしてください。",placeholder:"コメントを残してください。Markdown 記法をサポートしています。 Ctrl + Enter で送信できます。",noLoginPlaceHolder:"コメントを残すにはログインしてください。マークダウン記法をサポートしています。",failed:"コメントの読み込みに失敗しました",initializing:"初期化中...",issueNotCreated:"Click to create issue",loadingComments:"コメントの読み込み中...",loginRequired:"コメントを見るにはログインしてください",noComments:"まだコメントがありません。最初のコメントを残しましょう！",reactionGiven:"既に '{reaction}' のリアクションをしています",deleteConfirm:"本当にコメントを削除してもいいですか？",deleteFailed:"コメントの削除に失敗しました"},Dt={login:"התחברו עם {platform}",logout:"התנתקו",currentUser:"משתמש/ת נוכחי/ת",loading:"טוען",submit:"שליחה",submitting:"שולח",submitComment:"שליחת תגובה",cancel:"ביטל",edit:"עריכה",editMode:"מצב עריכה",delete:"מחיקה",reply:"תשובה",heart:"לב",like:"לייק",unlike:"אנלייק",perPage:"תגובות לדף",sort:"לחצו כדי לשנות את כיוון המיון",page:"דף",prev:"הדף הקודם",next:"הדף הבא",comments:"תגובות | {count} תגובה | {count} תגובות",loginToComment:"התחברו עם חשבון {platform} כדי להשאיר תגובה",placeholder:"השאירו תגובה. יש תמיכה בעיצוב בעזרת Markdown. Ctrl + Enter כדי לשלוח.",noLoginPlaceHolder:"התחברו כדי להשאיר תגובה. יש תמיכה בעיצוב בעזרת Markdown. ",failed:"כשלון בטעינת התגובות",initializing:"מאתחל...",issueNotCreated:"לחצו ליצירת issue",loadingComments:"טוען תגובות...",loginRequired:"התחברו כדי לצפות בתגובות",noComments:"עדיין אין תגובות. השאירו תגובה ראשונה !",reactionGiven:"כבר ניתן חיווי '{reaction}'",deleteConfirm:"בטוחים במחיקת התגובה ?",deleteFailed:"כשלון במחיקת התגובה"};e.prototype.hasOwnProperty("$i18n")||e.use(It);const Ft=new It({locale:"en",fallbackLocale:"en",messages:{en:$t,"en-US":$t,zh:Tt,"zh-CN":Tt,pt:Pt,"pt-BR":Pt,ja:xt,"ja-JP":xt,he:Dt,"he-IL":Dt}});let At=class extends e{constructor(){super(...arguments),this.title=e=>`${e.prefix}${document.title}`,this.issueId=null,this.options=null,this.API=null,this.accessToken=null,this.user=null,this.issue=null,this.comments=null,this.query={page:1,perPage:10,sort:"desc"},this.isInitializing=!0,this.isIssueNotCreated=!1,this.isLoginRequired=!1,this.isFailed=!1,this.isCreatingIssue=!1,this.isLoadingComments=!1,this.isCreatingComment=!1,this.isUpdatingComment=!1}get version(){return"1.1.0"}get issueTitle(){return null===this.options?"":"function"==typeof this.title?this.title(this.options):`${this.options.prefix}${this.title}`}get isPending(){return this.isLoadingComments||this.isCreatingComment||this.isUpdatingComment}get isLogined(){return null!==this.accessToken&&null!==this.user}get isAdmin(){return null!==this.options&&null!==this.accessToken&&null!==this.user&&(this.user.username===this.options.owner||this.options.admins.includes(this.user.username))}get accessTokenKey(){return this.API?`Vssue.${this.API.platform.name.toLowerCase()}.access_token`:""}onQueryPerPageChange(){this.query.page=1,this.getComments()}onQueryChange(){this.getComments()}setOptions(e){this.options=Object.assign({labels:["Vssue"],state:"Vssue",prefix:"[Vssue]",admins:[],perPage:10,proxy:e=>`https://cors-anywhere.herokuapp.com/${e}`,issueContent:({url:e})=>e,autoCreateIssue:!1},e);const t=["api","owner","repo","clientId"];for(const e of t)this.options[e]||console.warn(`[Vssue] the option '${e}' is required`);if(this.options.locale)this.$i18n.locale=this.options.locale;else{const e=Object.keys(this.$i18n.messages),t=window.navigator.languages;this.$i18n.locale=t.filter(t=>e.includes(t)).shift()||"en"}}async init(){try{await this.initStore(),await this.initComments()}catch(e){e.response&&[401,403].includes(e.response.status)?this.isLoginRequired=!0:this.isFailed=!0,console.error(e)}}async initStore(){try{if(!this.options)throw new Error("Options are required to initialize Vssue");this.API=null,this.accessToken=null,this.user=null,this.issue=null,this.comments=null,this.query={page:1,perPage:this.options.perPage,sort:"desc"},this.isInitializing=!0,this.isIssueNotCreated=!1,this.isLoginRequired=!1,this.isFailed=!1,this.isCreatingIssue=!1,this.isLoadingComments=!1,this.isCreatingComment=!1,this.isUpdatingComment=!1;const e=this.options.api;this.API=new e({baseURL:this.options.baseURL,labels:this.options.labels,state:this.options.state,owner:this.options.owner,repo:this.options.repo,clientId:this.options.clientId,clientSecret:this.options.clientSecret,proxy:this.options.proxy}),await this.handleAuth()}finally{this.isInitializing=!1}}async initComments(){if(this.API&&this.options)if(this.issueId){const[e,t]=await Promise.all([this.API.getIssue({accessToken:this.accessToken,issueId:this.issueId}),this.API.getComments({accessToken:this.accessToken,issueId:this.issueId,query:this.query})]);this.issue=e,this.comments=t}else this.issue=await this.API.getIssue({accessToken:this.accessToken,issueTitle:this.issueTitle}),null===this.issue?(this.isIssueNotCreated=!0,this.options.autoCreateIssue&&await this.postIssue()):await this.getComments()}async postIssue(){var e;if(this.API&&this.options&&!this.issue&&!this.issueId&&(this.isLogined||this.login(),this.isAdmin))try{this.isCreatingIssue=!0;const t=await this.API.postIssue({title:this.issueTitle,content:await this.options.issueContent({options:this.options,url:(e=window.location.href,(e.split("#")[0]||"").split("?")[0]||"")}),accessToken:this.accessToken});this.issue=t,this.isIssueNotCreated=!1,await this.getComments()}catch(e){this.isFailed=!0}finally{this.isCreatingIssue=!1}}async getComments(){try{if(!this.API||!this.issue||this.isLoadingComments)return;this.isLoadingComments=!0;const e=await this.API.getComments({accessToken:this.accessToken,issueId:this.issue.id,query:this.query});return this.comments=e,this.query.page!==e.page&&(this.query.page=e.page),this.query.perPage!==e.perPage&&(this.query.perPage=e.perPage),e}catch(e){if(!e.response||![401,403].includes(e.response.status)||this.isLogined)throw this.$emit("error",e),e;this.isLoginRequired=!0}finally{this.isLoadingComments=!1}}async postComment({content:e}){try{if(!this.API||!this.issue||this.isCreatingComment)return;return this.isCreatingComment=!0,await this.API.postComment({accessToken:this.accessToken,content:e,issueId:this.issue.id})}catch(e){throw this.$emit("error",e),e}finally{this.isCreatingComment=!1}}async putComment({commentId:e,content:t}){try{if(!this.API||!this.issue)return;return await this.API.putComment({accessToken:this.accessToken,issueId:this.issue.id,commentId:e,content:t})}catch(e){throw this.$emit("error",e),e}}async deleteComment({commentId:e}){try{if(!this.API||!this.issue)return;return await this.API.deleteComment({accessToken:this.accessToken,issueId:this.issue.id,commentId:e})}catch(e){throw this.$emit("error",e),e}}async getCommentReactions({commentId:e}){try{if(!this.API||!this.issue)return;return await this.API.getCommentReactions({accessToken:this.accessToken,issueId:this.issue.id,commentId:e})}catch(e){throw this.$emit("error",e),e}}async postCommentReaction({commentId:e,reaction:t}){try{if(!this.API||!this.issue)return!1;return await this.API.postCommentReaction({accessToken:this.accessToken,issueId:this.issue.id,commentId:e,reaction:t})}catch(e){throw this.$emit("error",e),e}}login(){this.API&&this.API.redirectAuth()}logout(){this.setAccessToken(null),this.user=null}async handleAuth(){if(!this.API)return;const e=await this.API.handleAuth();e?(this.setAccessToken(e),this.user=await this.API.getUser({accessToken:e})):this.getAccessToken()?this.user=await this.API.getUser({accessToken:this.accessToken}):(this.setAccessToken(null),this.user=null)}getAccessToken(){return this.accessToken=window.localStorage.getItem(this.accessTokenKey),this.accessToken}setAccessToken(e){null===e?window.localStorage.removeItem(this.accessTokenKey):window.localStorage.setItem(this.accessTokenKey,e),this.accessToken=e}};s([p("query.perPage")],At.prototype,"onQueryPerPageChange",null),s([p("query.page"),p("query.sort")],At.prototype,"onQueryChange",null);var Ot=At=s([l({i18n:Ft})],At);let Rt=class extends e{constructor(){super(...arguments),this.vssue=new Ot}onOptionsChange(e){this.vssue.setOptions(e)}beforeMount(){null!==this.title&&(this.vssue.title=this.title),null!==this.issueId&&(this.vssue.issueId=this.issueId),this.vssue.setOptions(this.options),this.vssue.init()}};var St;s([d({type:[String,Function],required:!1,default:null})],Rt.prototype,"title",void 0),s([d({type:[String,Number],required:!1,default:null})],Rt.prototype,"issueId",void 0),s([d({type:Object,required:!1,default:()=>({})})],Rt.prototype,"options",void 0),s([(St="vssue",o(function(e,t){var s=e.provide;if("function"!=typeof s||!s.managed){var n=e.provide;(s=e.provide=function(){var e=Object.create(("function"==typeof n?n.call(this):n)||null);for(var t in s.managed)e[s.managed[t]]=this[t];return e}).managed={}}s.managed[t]=St||t}))],Rt.prototype,"vssue",void 0),s([p("options",{deep:!0})],Rt.prototype,"onOptionsChange",null);var Lt=v({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vssue"},[t("Iconfont"),this._v(" "),t("VssueHeader"),this._v(" "),t("VssueBody")],1)},staticRenderFns:[]},void 0,Rt=s([l({components:{Iconfont:f,VssueBody:$e,VssueHeader:Pe}})],Rt),void 0,!1,void 0,void 0,void 0);const zt={get version(){return"1.1.0"},installed:!1,install(e,t){if(this.installed)return!1;this.installed=!0,e.component("Vssue",{functional:!0,props:{title:{type:String,required:!1,default:void 0},issueId:{type:[Number,String],required:!1,default:void 0},options:{type:Object,required:!1,default:void 0}},render:(e,{data:s,props:n})=>e(Lt,Object.assign({},s,{props:{title:n.title,issueId:n.issueId,options:Object.assign({},t,n.options)}}))})},VssueComponent:Lt};"undefined"!=typeof window&&window.Vue&&window.Vue.use(zt,{api:t})});
